---
import PageLayout from "../layouts/PageLayout.astro";
import ProblemView from "../components/ProblemView.astro";
import Container from "@components/Container.astro";

import { SITE } from "@consts";

import { readdir } from "node:fs/promises";

const allProblems = (await readdir(`${process.cwd()}/problems`)).map(
  (problem) => problem.replace(".ts", ""),
);
---

<PageLayout title={SITE.NAME} description={SITE.DESCRIPTION}>
  <Container>
    <div
      class="mb-4 border-l-4 border-orange-500 bg-orange-100 p-4 text-orange-700"
      role="alert"
    >
      <p class="font-bold">Reader Be Warned</p>
      <p>
        Solving leetcode problems is not a good idea. Solving them at the type
        level is a worse one.
      </p>
    </div>

    <div
      class="mb-4 rounded-lg bg-gray-50 p-4 text-sm text-gray-800 dark:bg-gray-800 dark:text-gray-300"
      role="alert"
    >
      Every solution is O(1) because types don't exist at runtime.
    </div>

    <div class="flex flex-col gap-5">
      {allProblems.map((problem) => <ProblemView name={problem} />)}
    </div>
  </Container>
</PageLayout>
